RealAntennasCommNetParams
{
	MaxSymbolRateByTechLevel = 32, 32, 64, 64, 8192, 32768, 262144, 524288, 1e6, 1e7
	BandInfo
	{
		name = VHF
		TechLevel = 1
		Frequency = 150e6
		ChannelWidth = 50e3
	}
	BandInfo
	{
		name = UHF
		TechLevel = 1
		Frequency = 430e6
		ChannelWidth = 50e3
	}
	BandInfo
	{
		name = S
		TechLevel = 1
		Frequency = 2.25e9
		ChannelWidth = 0.330e6
	}
	BandInfo
	{
		name = X
		TechLevel = 7
		Frequency = 8.45e9
		ChannelWidth = 1.36e6
	}
	BandInfo
	{
		name = K
		TechLevel = 10
		Frequency = 26.250e9
		ChannelWidth = 20e6
	}
	BandInfo
	{
		name = Ka
		TechLevel = 10
		Frequency = 32.0e9
		ChannelWidth = 20e6
	}
}

// Create the Kopernicus-like structure and insert a few nodes.
Kopernicus:NEEDS[!Kopernicus] 
{
    Body
    {
		name = Kerbin
        PQS
        {
            Mods
            {
				City2
                {
                    name = DSNTrackingStation
                    objectName = Kerbal Space Center
                    isKSC = True
                    lat = 0.09694
                    lon = 74
                    alt = 93.7
                    enabled = True
                }
                City2
                {
                    name = DSNTrackingStation
                    objectName = Charon Station
                    isKSC = False
                    lat = 0
                    lon = 194
                    alt = 299.9
                    enabled = True
                }
                City2
                {
                    name = DSNTrackingStation
                    objectName = Pluto Station
                    isKSC = False
                    lat = 0
                    lon = 314
                    alt = 3412.2
                    enabled = True
                }
			}
		}
	}
}

// Stock system patch.
@Kopernicus:FOR[RealAntennas]:NEEDS[!Kopernicus]
{
    @Body[Kerbin]
    {
        @PQS
        {
            @Mods
            {
				@City2[DSNTrackingStation],*
				{
                    commnetStation = True
                    snapToSurface = True
                    snapHeightOffset = 0
                    up = 0.0, 1.0, 0.0
                    rotation = 0
                    order = 100
				}
				@City2[DSNTrackingStation],*
				{
					%commnetStation = False
					RACommNetStation = True
					Antenna
					{
						referenceGain = 1					// Everyone gets a weak VHF
						TxPower = 40				// 10W
						TechLevel = 1
						RFBand = VHF
						AMWTemp = 290
					}
					Antenna
					{
						referenceGain = 3					// Everyone gets a weak UHF
						TxPower = 40				// 10W
						TechLevel = 1
						RFBand = UHF
						AMWTemp = 290
					}
					Antenna
					{
						referenceGain = 49				// Original S-Band 18m, -3dBi vs 26m (module 102)
						referenceFrequency = 2250
						TxPower = 63				// 2KW
						TechLevel = 1
						RFBand = S
						AMWTemp = 290
						ModulationBits = 1

						UPGRADE
						{
							TechLevel = 2			// "Lunar Range Comms" 1956 tech node
							referenceGain = 52.5				// 26m antenna 1958
						}
						UPGRADE
						{
							TechLevel = 3			// "Improved Comms" 1964 tech node
							AMWTemp = 125			// Maser 1962
						}
						UPGRADE
						{
							TechLevel = 4			// "Advanced Comms" 1968 tech node
							referenceGain =	60.5			// 64m Antenna: +8dB?  1967
						}
						UPGRADE
						{
							TechLevel = 5
							AMWTemp = 80				// Noise reduction 1968, block coding 1969
						}
						UPGRADE
						{
							TechLevel = 6			// Convolutional coding ~1973
							referenceGain = 62.5				// Improved antenna manufacturing/tolerances 1971-1972
						}
						UPGRADE
						{
							TechLevel = 7			// X-Band introduction ~1975, concatenated coding
							AMWTemp = 40				// MW noise reduction ~1980
							ModulationBits = 2
						}
						UPGRADE
						{
							TechLevel = 8			// 70m antennas ~1988
							referenceGain = 63.6				// +.8dBi
							TxPower = 73			// 20KW
						}
						UPGRADE
						{
							TechLevel = 9			// 1995 super-cooled maser & feed
							AMWTemp = 17.6
						}
						UPGRADE
						{
							TechLevel = 10			// 2004 Ka-band
						}
					}
					Antenna
					{
						referenceGain = 73.5					// X-Band 64m
						referenceFrequency = 8450
						TxPower = 70				// 10KW
						TechLevel = 7
						RFBand = X
						AMWTemp = 40
						ModulationBits = 2

						UPGRADE
						{
							TechLevel = 8
							referenceGain = 74.3
							TxPower = 73
						}
						UPGRADE
						{
							TechLevel = 9
							AMWTemp = 12.8
						}
					}
					Antenna
					{
						referenceGain = 79					// Ka-Band 34m
						referenceFrequency = 32000
						TxPower = 54.8
						TechLevel = 10
						RFBand = Ka
						AMWTemp = 20
						ModulationBits = 2
					}

                    LOD
                    {
                        Value
                        {
                            visibleRange = 30000
                            keepActive = False
                            model = BUILTIN/Dish
                            scale = 10.0, 10.0, 10.0
                            delete = False
                        }
                    }
				}
			}
		}
	}
}

@Kopernicus:FOR[RealSolarSystem_Late]:NEEDS[Kopernicus,RealSolarSystem]
{
    @Body[Kerbin]
    {
        @PQS
        {
            @Mods
            {
                @City2[LaunchSiteTrackingStation],*
                {
					%commnetStation = False
					RACommNetStation = True
					Antenna
					{
						referenceGain = 1					// Everyone gets a weak VHF
						TxPower = 40				// 10W
						TechLevel = 1
						RFBand = VHF
						AMWTemp = 290
					}
					Antenna
					{
						referenceGain = 3					// Everyone gets a weak UHF
						TxPower = 40				// 10W
						TechLevel = 1
						RFBand = UHF
						AMWTemp = 290
					}
				}
                !City2[GenericTrackingStation],* {}
                City2
                {
                    name = DSNTrackingStation
                    objectName = DSS 14 - Goldstone
                    isKSC = False
                    lat = 35.4251262
                    lon = -116.8913795
                    alt = 900
                    enabled = True
				}
                City2
                {
                    name = DSNTrackingStation
                    objectName = DSS 43 - Canberra
                    isKSC = False
                    lat = -35.4006289
                    lon = 148.9790935
                    alt = 555
                    enabled = True
                }
                City2
                {
                    name = DSNTrackingStation
                    objectName = DSS 63 - Madrid
                    isKSC = False
                    lat = 40.4273387
                    lon = -4.2519912
                    alt = 725
                    enabled = True
                }
				@City2[DSNTrackingStation],*
				{
                    commnetStation = True
                    snapToSurface = True
                    snapHeightOffset = 0
                    up = 0.0, 1.0, 0.0
                    rotation = 0
                    order = 100
				}
				@City2[DSNTrackingStation],*
				{
					%commnetStation = False
					RACommNetStation = True
					Antenna
					{
						referenceGain = 1					// Everyone gets a weak VHF
						TxPower = 40				// 10W
						TechLevel = 1
						RFBand = VHF
						AMWTemp = 290
					}
					Antenna
					{
						referenceGain = 3					// Everyone gets a weak UHF
						TxPower = 40				// 10W
						TechLevel = 1
						RFBand = UHF
						AMWTemp = 290
					}
					Antenna
					{
						referenceGain = 49				// Original S-Band 18m, -3dBi vs 26m (module 102)
						referenceFrequency = 2250
						TxPower = 63				// 2KW
						TechLevel = 1
						RFBand = S
						AMWTemp = 290
						ModulationBits = 1

						UPGRADE
						{
							TechLevel = 2			// "Lunar Range Comms" 1956 tech node
							referenceGain = 52.5				// 26m antenna 1958
						}
						UPGRADE
						{
							TechLevel = 3			// "Improved Comms" 1964 tech node
							AMWTemp = 125			// Maser 1962
						}
						UPGRADE
						{
							TechLevel = 4			// "Advanced Comms" 1968 tech node
							referenceGain =	60.5			// 64m Antenna: +8dB?  1967
						}
						UPGRADE
						{
							TechLevel = 5
							AMWTemp = 80				// Noise reduction 1968, block coding 1969
						}
						UPGRADE
						{
							TechLevel = 6			// Convolutional coding ~1973
							referenceGain = 62.5				// Improved antenna manufacturing/tolerances 1971-1972
						}
						UPGRADE
						{
							TechLevel = 7			// X-Band introduction ~1975, concatenated coding
							AMWTemp = 40				// MW noise reduction ~1980
							ModulationBits = 2
						}
						UPGRADE
						{
							TechLevel = 8			// 70m antennas ~1988
							referenceGain = 63.6				// +.8dBi
							TxPower = 73			// 20KW
						}
						UPGRADE
						{
							TechLevel = 9			// 1995 super-cooled maser & feed
							AMWTemp = 17.6
						}
						UPGRADE
						{
							TechLevel = 10			// 2004 Ka-band
						}
					}
					Antenna
					{
						referenceGain = 73.5					// X-Band 64m
						referenceFrequency = 8450
						TxPower = 70				// 10KW
						TechLevel = 7
						RFBand = X
						AMWTemp = 40
						ModulationBits = 2

						UPGRADE
						{
							TechLevel = 8
							referenceGain = 74.3
							TxPower = 73
						}
						UPGRADE
						{
							TechLevel = 9
							AMWTemp = 12.8
						}
					}
					Antenna
					{
						referenceGain = 79					// Ka-Band 34m
						referenceFrequency = 32000
						TxPower = 54.8
						TechLevel = 10
						RFBand = Ka
						AMWTemp = 20
						ModulationBits = 2
					}

                    LOD
                    {
                        Value
                        {
                            visibleRange = 30000
                            keepActive = False
                            model = BUILTIN/Dish
                            scale = 10.0, 10.0, 10.0
                            delete = False
                        }
                    }
				}
			}
		}
	}
}
